Search.setIndex({"docnames": ["architecture", "glossary", "index", "rationale", "source", "tutorial"], "filenames": ["architecture.rst", "glossary.rst", "index.rst", "rationale.rst", "source.rst", "tutorial.rst"], "titles": ["Architecture", "Glossary", "The Ragger framework", "Rationale", "Code documentation", "Tutorial"], "terms": {"ragger": [0, 1, 3], "packag": 0, "relat": 0, "class": [0, 1, 2, 3, 4], "apdu": [1, 3, 4, 5], "stand": 1, "applic": [1, 2, 4, 5], "protocol": 1, "data": [1, 4, 5], "unit": 1, "It": [1, 2, 4], "design": 1, "messag": [1, 4], "which": [1, 2, 3, 4, 5], "i": [1, 3, 4, 5], "transmit": 1, "from": [1, 4, 5], "client": [1, 2], "an": [1, 3, 4, 5], "other": [1, 2, 3], "wai": 1, "around": [1, 2], "transit": 1, "through": [1, 4], "usb": 1, "bluetooth": 1, "In": [1, 3, 5], "thi": [1, 3, 4, 5], "document": [1, 2, 3], "piec": [1, 3], "softwar": [1, 3], "build": [1, 4], "ledger": [1, 2, 3, 5], "secur": 1, "sdk": [1, 4, 5], "run": [1, 2, 3, 5], "cold": [1, 2, 5], "wallet": [1, 2, 5], "devic": [1, 2, 3, 4, 5], "nano": [1, 2, 5], "nanox": [1, 2, 4, 5], "backend": [1, 2], "librari": [1, 2, 3], "allow": [1, 2, 3, 5], "commun": [1, 3, 5], "either": [1, 3, 5], "real": [1, 3], "one": [1, 3, 5], "like": [1, 3, 4, 5], "physic": [1, 3, 4, 5], "": [1, 2, 3, 5], "x": 1, "emul": [1, 3, 5], "thank": 1, "speculo": [1, 3, 5], "A": [1, 4], "ani": [1, 3], "access": [1, 2, 5], "servic": 1, "made": [1, 4], "avail": [1, 4], "server": 1, "refer": 1, "code": [1, 2, 3, 5], "abl": [1, 3, 5], "typic": [1, 3], "programmat": 1, "enabl": [1, 5], "capabl": [1, 3, 5], "its": [1, 3, 4, 5], "sign": 1, "payload": 1, "trigger": [1, 5], "transact": [1, 3], "chang": 1, "configur": [1, 4], "firmwar": [1, 2], "usual": 1, "type": [1, 4, 5], "version": [1, 5], "current": [1, 4, 5], "ar": [1, 3, 4, 5], "The": [1, 3, 4], "depend": [1, 5], "store": [1, 5], "inform": [1, 4], "see": [1, 5], "also": [1, 3, 4, 5], "golden": [1, 3], "snapshot": [1, 3, 4], "screen": [1, 3, 4], "consid": [1, 4], "thei": [1, 4, 5], "us": [1, 3, 4, 5], "when": [1, 4, 5], "test": [1, 2, 3, 5], "check": [1, 3], "behav": [1, 3], "expect": [1, 3, 4], "ledgercomm": [1, 3, 5], "origin": [1, 3], "open": 1, "sourc": 1, "host": 1, "github": 1, "ledgerwallet": [1, 3, 5], "newer": 1, "pytest": [1, 5], "larg": 1, "python": [1, 2], "tool": [1, 3], "Its": 1, "fixtur": 1, "mechan": [1, 3], "work": [1, 5], "neatli": 1, "compil": [1, 5], "easi": 1, "fast": 1, "compos": [1, 2, 4], "itself": [1, 3], "http": [1, 5], "modul": [1, 2], "easili": [1, 3, 5], "said": 1, "aim": 2, "simplifi": 2, "overal": 2, "automat": [2, 5], "manipul": [2, 3], "tini": 2, "wrapper": 2, "abstract": [2, 4, 5], "provid": [2, 3, 4, 5], "higher": [2, 3, 4], "level": [2, 3, 4], "develop": [2, 5], "complex": [2, 3], "behavior": [2, 3], "rational": 2, "eas": 2, "tutori": [2, 3], "instal": [2, 3], "first": [2, 3, 4], "instanti": 2, "gener": [2, 4], "architectur": 2, "glossari": 2, "index": [2, 5], "search": 2, "page": 2, "hard": 3, "although": [3, 5], "strongli": 3, "cannot": 3, "alwai": 3, "replac": 3, "irl": 3, "There": 3, "howev": [3, 4, 5], "would": 3, "veri": 3, "conveni": 3, "compat": 3, "wherev": 3, "On": 3, "top": 3, "all": [3, 5], "low": 3, "function": [3, 4, 5], "press": 3, "button": [3, 4], "send": [3, 4], "can": [3, 4, 5], "requir": [3, 4], "goal": 3, "make": 3, "oblivi": 3, "underli": 3, "most": [3, 4], "against": 3, "enough": 3, "often": 3, "interfac": [3, 5], "wrap": 3, "sever": 3, "onli": [3, 5], "two": [3, 4], "agnost": 3, "embed": 3, "call": [3, 4, 5], "ad": [3, 4], "given": [3, 4, 5], "respect": [3, 4], "backendinterfac": [3, 4, 5], "layer": 3, "between": 3, "must": [3, 4, 5], "compli": 3, "onc": [3, 5], "done": [3, 5], "littl": 3, "cost": 3, "why": 3, "That": 3, "becaus": [3, 5], "actual": 3, "need": [3, 4, 5], "talk": 3, "someth": 3, "start": [3, 5], "alreadi": [3, 5], "have": [3, 5], "connect": [3, 4, 5], "comput": [3, 5], "launch": [3, 5], "how": [3, 5], "exploit": 3, "write": [3, 5], "both": [3, 4], "section": 3, "more": 3, "thorough": 3, "particular": 3, "offer": 3, "declar": [3, 4, 5], "flow": [3, 4], "without": 3, "repeat": 3, "oneself": 3, "role": 3, "set": 3, "instruct": [3, 4], "bound": 3, "callback": 3, "possibl": [3, 4], "featur": 3, "list": [3, 5], "screenshot": 3, "while": 3, "perform": [3, 4], "take": [3, 5], "save": [3, 4], "them": [3, 5], "compar": [3, 4], "doe": [3, 4], "sound": [3, 5], "much": 3, "soon": 3, "get": [3, 4, 5], "bit": 3, "help": [3, 5], "lot": 3, "hand": 3, "high": [3, 4], "concept": 3, "valid": [3, 4, 5], "deal": 3, "detail": 3, "craft": 3, "click": [3, 4], "right": [3, 4], "time": [3, 5], "contract": 4, "__init__": 4, "initi": 4, "paramet": 4, "manag": [4, 5], "both_click": 4, "none": 4, "method": 4, "mai": [4, 5], "left": 4, "void": 4, "where": [4, 5], "interact": 4, "instead": 4, "prevent": 4, "instrument": 4, "fail": 4, "won": [4, 5], "t": [4, 5], "rais": [4, 5], "notimplementederror": 4, "probabl": 4, "stuck": 4, "further": 4, "receiv": 4, "instanc": 4, "until": 4, "action": [4, 5], "return": [4, 5], "nonetyp": 4, "compare_screen_with_snapshot": 4, "snap_path": 4, "path": [4, 5], "crop": 4, "option": 4, "bool": [4, 5], "snap": 4, "comparison": 4, "true": 4, "match": 4, "els": [4, 5], "fals": 4, "exchang": [4, 5], "cla": [4, 5], "int": 4, "ins": [4, 5], "p1": 4, "0": [4, 5], "p2": 4, "byte": [4, 5], "b": 4, "rapdu": 4, "format": 4, "length": 4, "automaticali": 4, "id": [4, 5], "command": 4, "default": [4, 5], "second": [4, 5], "exceptionrapdu": 4, "If": 4, "attribut": 4, "statu": 4, "regist": 4, "valid_status": 4, "exchange_async": 4, "give": 4, "control": 4, "back": 4, "caller": 4, "still": 4, "ha": [4, 5], "respond": 4, "yet": 4, "ui": 4, "request": 4, "context": 4, "yield": [4, 5], "anyth": 4, "exchange_async_raw": 4, "everi": [4, 5], "part": 4, "includ": 4, "exchange_raw": 4, "properti": 4, "is_raise_requir": 4, "last_async_respons": 4, "last": 4, "after": 4, "wa": [4, 5], "result": 4, "except": 4, "throw": 4, "left_click": 4, "impli": 4, "been": 4, "previous": 4, "sent": 4, "right_click": [4, 5], "save_screen_snapshot": 4, "send_raw": 4, "raise_polici": 4, "differ": 4, "valu": 4, "raisepolici": 4, "enumer": 4, "know": 4, "should": [4, 5], "str": [4, 5], "contain": 4, "hold": 4, "appli": 4, "repres": 4, "name": [4, 5], "associ": 4, "third": 4, "semantic_vers": 4, "deduc": [4, 5], "select": 4, "latest": [4, 5], "For": [4, 5], "2": [4, 5], "1": [4, 5], "fallback": 4, "ones": [4, 5], "nanosvers": 4, "v_1_6_1": 4, "versioninfo": 4, "major": 4, "minor": 4, "6": 4, "patch": 4, "prereleas": 4, "v_2_0_0": 4, "v_2_1_0": 4, "nanospvers": 4, "v_1_0_1": 4, "v_1_0_2": 4, "v_1_0_3": 4, "3": [4, 5], "v_1_0_4": 4, "4": 4, "nanoxvers": 4, "v_1_3_0": 4, "v_2_0_1": 4, "v_2_0_2": 4, "classmethod": 4, "get_last": 4, "arg": [4, 5], "semver": 4, "number": 4, "incomplet": 4, "enum": 4, "valueerror": [4, 5], "suitabl": 4, "found": 4, "semant": 4, "get_last_from_str": 4, "string": 4, "least": 4, "digit": 4, "we": 5, "go": 5, "glue": 5, "leverag": 5, "order": 5, "step": 5, "At": 5, "so": 5, "pip": 5, "extra": 5, "url": 5, "pypi": 5, "org": 5, "simpl": 5, "some": 5, "explan": 5, "argument": 5, "necessari": 5, "deploi": 5, "stabl": 5, "repositori": 5, "mean": 5, "than": 5, "tri": 5, "uncoupl": 5, "what": 5, "seen": 5, "setup": 5, "cfg": 5, "file": 5, "realli": 5, "import": 5, "u": 5, "insid": 5, "elf": 5, "application_elf": 5, "app": 5, "And": 5, "you": 5, "case": 5, "immedi": 5, "statement": 5, "begin": 5, "event": 5, "0xe0": 5, "0x01": 5, "fromhex": 5, "deadbeef": 5, "syntax": 5, "ensur": 5, "properli": 5, "clean": 5, "stop": 5, "whole": 5, "could": 5, "close": 5, "socket": 5, "far": 5, "awai": 5, "wich": 5, "place": 5, "conftest": 5, "py": 5, "test_someth": 5, "def": 5, "v": 5, "session": 5, "collect": 5, "item": 5, "pass": 5, "100": 5, "41": 5, "logic": 5, "specif": 5, "support": 5, "common": 5, "practic": 5, "those": 5, "nanosp": 5, "Then": 5, "overrid": 5, "pytest_generate_test": 5, "creat": 5, "let": 5, "parametr": 5, "each": 5, "metafunc": 5, "fw_list": 5, "fixturenam": 5, "fw": 5, "append": 5, "now": 5, "modifi": 5, "our": 5, "previou": 5, "henc": 5, "too": 5, "thankfulli": 5, "app_path_from_app_nam": 5, "infer": 5, "directori": 5, "apps_directori": 5, "your": 5, "app_nano": 5, "app_nanosp": 5, "app_nanox": 5, "proper": 5, "locat": 5, "pathlib": 5, "util": 5, "app_nam": 5, "app_loc": 5, "gracefulli": 5, "33": 5, "66": 5, "90": 5, "simpler": 5, "do": 5, "directli": 5, "inde": 5, "emb": 5, "assum": 5, "up": 5, "somewher": 5, "try": 5, "come": 5, "decid": 5, "pytest_addopt": 5, "parser": 5, "addopt": 5, "scope": 5, "backend_nam": 5, "pytestconfig": 5, "getopt": 5, "chosen": 5, "correct": 5, "ledgercommbackend": 5, "ledgerwalletbackend": 5, "create_backend": 5, "displai": 5, "lower": 5, "hid": 5, "elif": 5, "kwarg": 5, "prepare_speculos_arg": 5, "f": 5, "unknown": 5, "anoth": 5, "again": 5, "specifi": 5, "expand": 5, "store_tru": 5, "demand": 5, "config": 5, "add": 5, "22": 5}, "objects": {"ragger": [[4, 0, 1, "", "ExceptionRAPDU"], [4, 0, 1, "", "RAPDU"]], "ragger.backend": [[4, 0, 1, "", "BackendInterface"], [4, 0, 1, "", "RaisePolicy"]], "ragger.backend.BackendInterface": [[4, 1, 1, "", "__init__"], [4, 1, 1, "", "both_click"], [4, 1, 1, "", "compare_screen_with_snapshot"], [4, 1, 1, "", "exchange"], [4, 1, 1, "", "exchange_async"], [4, 1, 1, "", "exchange_async_raw"], [4, 1, 1, "", "exchange_raw"], [4, 2, 1, "", "firmware"], [4, 1, 1, "", "is_raise_required"], [4, 2, 1, "", "last_async_response"], [4, 1, 1, "", "left_click"], [4, 1, 1, "", "receive"], [4, 1, 1, "", "right_click"], [4, 1, 1, "", "save_screen_snapshot"], [4, 1, 1, "", "send"], [4, 1, 1, "", "send_raw"]], "ragger.firmware": [[4, 0, 1, "", "Firmware"]], "ragger.firmware.Firmware": [[4, 1, 1, "", "__init__"]], "ragger.firmware.versions": [[4, 0, 1, "", "NanoSPVersions"], [4, 0, 1, "", "NanoSVersions"], [4, 0, 1, "", "NanoXVersions"], [4, 0, 1, "", "VersionManager"]], "ragger.firmware.versions.NanoSPVersions": [[4, 3, 1, "", "V_1_0_1"], [4, 3, 1, "", "V_1_0_2"], [4, 3, 1, "", "V_1_0_3"], [4, 3, 1, "", "V_1_0_4"]], "ragger.firmware.versions.NanoSVersions": [[4, 3, 1, "", "V_1_6_1"], [4, 3, 1, "", "V_2_0_0"], [4, 3, 1, "", "V_2_1_0"]], "ragger.firmware.versions.NanoXVersions": [[4, 3, 1, "", "V_1_3_0"], [4, 3, 1, "", "V_2_0_0"], [4, 3, 1, "", "V_2_0_1"], [4, 3, 1, "", "V_2_0_2"]], "ragger.firmware.versions.VersionManager": [[4, 1, 1, "", "get_last"], [4, 1, 1, "", "get_last_from_string"]]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:property", "3": "py:attribute"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "property", "Python property"], "3": ["py", "attribute", "Python attribute"]}, "titleterms": {"architectur": 0, "glossari": 1, "The": [2, 5], "ragger": [2, 4, 5], "framework": 2, "how": 2, "i": 2, "thi": 2, "doc": 2, "structur": 2, "indic": 2, "tabl": 2, "rational": 3, "abstract": 3, "backend": [3, 4, 5], "eas": 3, "develop": 3, "applic": 3, "client": 3, "navig": 3, "code": 4, "document": 4, "respons": 4, "firmwar": [4, 5], "version": 4, "nano": 4, "": 4, "x": 4, "versionmanag": 4, "tutori": 5, "instal": 5, "first": 5, "instanti": 5, "speculosbackend": 5, "fixtur": 5, "gener": 5, "To": 5, "other": 5}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Architecture": [[0, "architecture"]], "Glossary": [[1, "glossary"]], "The Ragger framework": [[2, "the-ragger-framework"]], "How is this doc structured:": [[2, null]], "Indices and tables": [[2, "indices-and-tables"]], "Rationale": [[3, "rationale"]], "Abstracting the backends": [[3, "abstracting-the-backends"]], "Easing the development of application clients": [[3, "easing-the-development-of-application-clients"]], "Navigation": [[3, "navigation"]], "Code documentation": [[4, "code-documentation"]], "ragger.backend": [[4, "ragger-backend"]], "Responses": [[4, "responses"]], "ragger.firmware": [[4, "ragger-firmware"]], "ragger.firmware.firmware": [[4, "ragger-firmware-firmware"]], "ragger.firmware.version": [[4, "ragger-firmware-version"]], "Nano S": [[4, "nano-s"]], "Nano S+": [[4, "id1"]], "Nano X": [[4, "nano-x"]], "VersionManager": [[4, "versionmanager"]], "Tutorial": [[5, "tutorial"]], "Ragger installation": [[5, "ragger-installation"]], "First backend instantiation": [[5, "first-backend-instantiation"]], "The SpeculosBackend": [[5, "the-speculosbackend"]], "Backend as a fixture": [[5, "backend-as-a-fixture"]], "Generalization": [[5, "generalization"]], "To other firmware": [[5, "to-other-firmware"]], "To other backends": [[5, "to-other-backends"]]}, "indexentries": {"apdu": [[1, "term-APDU"]], "application": [[1, "term-Application"]], "backend": [[1, "term-Backend"]], "client": [[1, "term-Client"]], "firmware": [[1, "term-Firmware"]], "golden snapshot": [[1, "term-Golden-snapshot"]], "ledgercomm": [[1, "term-LedgerComm"]], "ledgerwallet": [[1, "term-LedgerWallet"]], "pytest": [[1, "term-Pytest"]], "sdk": [[1, "term-SDK"]], "speculos": [[1, "term-Speculos"]], "backendinterface (class in ragger.backend)": [[4, "ragger.backend.BackendInterface"]], "exceptionrapdu (class in ragger)": [[4, "ragger.ExceptionRAPDU"]], "firmware (class in ragger.firmware)": [[4, "ragger.firmware.Firmware"]], "nanospversions (class in ragger.firmware.versions)": [[4, "ragger.firmware.versions.NanoSPVersions"]], "nanosversions (class in ragger.firmware.versions)": [[4, "ragger.firmware.versions.NanoSVersions"]], "nanoxversions (class in ragger.firmware.versions)": [[4, "ragger.firmware.versions.NanoXVersions"]], "rapdu (class in ragger)": [[4, "ragger.RAPDU"]], "raisepolicy (class in ragger.backend)": [[4, "ragger.backend.RaisePolicy"]], "v_1_0_1 (ragger.firmware.versions.nanospversions attribute)": [[4, "ragger.firmware.versions.NanoSPVersions.V_1_0_1"]], "v_1_0_2 (ragger.firmware.versions.nanospversions attribute)": [[4, "ragger.firmware.versions.NanoSPVersions.V_1_0_2"]], "v_1_0_3 (ragger.firmware.versions.nanospversions attribute)": [[4, "ragger.firmware.versions.NanoSPVersions.V_1_0_3"]], "v_1_0_4 (ragger.firmware.versions.nanospversions attribute)": [[4, "ragger.firmware.versions.NanoSPVersions.V_1_0_4"]], "v_1_3_0 (ragger.firmware.versions.nanoxversions attribute)": [[4, "ragger.firmware.versions.NanoXVersions.V_1_3_0"]], "v_1_6_1 (ragger.firmware.versions.nanosversions attribute)": [[4, "ragger.firmware.versions.NanoSVersions.V_1_6_1"]], "v_2_0_0 (ragger.firmware.versions.nanosversions attribute)": [[4, "ragger.firmware.versions.NanoSVersions.V_2_0_0"]], "v_2_0_0 (ragger.firmware.versions.nanoxversions attribute)": [[4, "ragger.firmware.versions.NanoXVersions.V_2_0_0"]], "v_2_0_1 (ragger.firmware.versions.nanoxversions attribute)": [[4, "ragger.firmware.versions.NanoXVersions.V_2_0_1"]], "v_2_0_2 (ragger.firmware.versions.nanoxversions attribute)": [[4, "ragger.firmware.versions.NanoXVersions.V_2_0_2"]], "v_2_1_0 (ragger.firmware.versions.nanosversions attribute)": [[4, "ragger.firmware.versions.NanoSVersions.V_2_1_0"]], "versionmanager (class in ragger.firmware.versions)": [[4, "ragger.firmware.versions.VersionManager"]], "__init__() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.__init__"]], "__init__() (ragger.firmware.firmware method)": [[4, "ragger.firmware.Firmware.__init__"]], "both_click() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.both_click"]], "compare_screen_with_snapshot() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.compare_screen_with_snapshot"]], "exchange() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.exchange"]], "exchange_async() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.exchange_async"]], "exchange_async_raw() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.exchange_async_raw"]], "exchange_raw() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.exchange_raw"]], "firmware (ragger.backend.backendinterface property)": [[4, "ragger.backend.BackendInterface.firmware"]], "get_last() (ragger.firmware.versions.versionmanager class method)": [[4, "ragger.firmware.versions.VersionManager.get_last"]], "get_last_from_string() (ragger.firmware.versions.versionmanager class method)": [[4, "ragger.firmware.versions.VersionManager.get_last_from_string"]], "is_raise_required() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.is_raise_required"]], "last_async_response (ragger.backend.backendinterface property)": [[4, "ragger.backend.BackendInterface.last_async_response"]], "left_click() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.left_click"]], "receive() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.receive"]], "right_click() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.right_click"]], "save_screen_snapshot() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.save_screen_snapshot"]], "send() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.send"]], "send_raw() (ragger.backend.backendinterface method)": [[4, "ragger.backend.BackendInterface.send_raw"]]}})